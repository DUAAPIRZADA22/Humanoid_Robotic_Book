[build]
# Use DOCKERFILE builder with explicit configuration
builder = "DOCKERFILE"

# Dockerfile path - if rootDirectory is set to "backend" in Railway UI,
# then dockerfilePath should be just "Dockerfile"
# If no rootDirectory is set, use "backend/Dockerfile"
dockerfilePath = "Dockerfile"

# IMPORTANT: In Railway UI Settings, set Root Directory to: backend
watchPatterns = ["**/*.py"]

[deploy]
healthcheckPath = "/health"
healthcheckTimeout = 300
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10
numReplicas = 1

[env]
PORT = "8000"
PYTHONUNBUFFERED = "1"
PYTHONDONTWRITEBYTECODE = "1"
